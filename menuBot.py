from telebot import types


# -----------------------------------------------------------------------
class Menu:
    hash = {}  # —Ç—É—Ç –±—É–¥–µ–º –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–∞
    cur_menu = None  # —Ç—É—Ç –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ç–µ–∫—É—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞, —Ç–µ–∫—É—â–µ–µ –º–µ–Ω—é

    def __init__(self, name, buttons=None, parent=None, action=None):
        self.parent = parent
        self.name = name
        self.buttons = buttons
        self.action = action

        markup = types.ReplyKeyboardMarkup(resize_keyboard=True, row_width=5)
        markup.add(*buttons)  # –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ - –∑–≤—ë–∑–¥–æ—á–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ —Å–ø–∏—Å–∫–∞
        self.markup = markup

        self.__class__.hash[name] = self  # –≤ –∫–ª–∞—Å—Å–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å, —Å–æ –≤—Å–µ–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –∫–ª–∞—Å—Å–∞, –æ–±–Ω–æ–≤–∏–º –µ–≥–æ

    @classmethod
    def getMenu(cls, name):
        menu = cls.hash.get(name)
        if menu != None:
            cls.cur_menu = menu
        return menu


m_main = Menu("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é1", buttons=["–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", "–ò–≥—Ä—ã", "–î–ó", "–ü–æ–º–æ—â—å"])

m_games = Menu("–ò–≥—Ä—ã", buttons=["–ö–∞–º–µ–Ω—å, –Ω–æ–∂–Ω–∏—Ü—ã, –±—É–º–∞–≥–∞", "–ò–≥—Ä–∞ –≤ 21", "–í—ã—Ö–æ–¥"], parent=m_main)
m_game_21 = Menu("–ò–≥—Ä–∞ –≤ 21", buttons=["–ö–∞—Ä—Ç—É!", "–°—Ç–æ–ø!", "–í—ã—Ö–æ–¥"], parent=m_games, action="game_21")
m_game_rsp = Menu("–ö–∞–º–µ–Ω—å, –Ω–æ–∂–Ω–∏—Ü—ã, –±—É–º–∞–≥–∞", buttons=["–ö–∞–º–µ–Ω—åü§ú", "–ù–æ–∂–Ω–∏—Ü—ã‚úå", "–ë—É–º–∞–≥–∞‚úã", "–í—ã—Ö–æ–¥"], parent=m_games, action="game_rsp")

m_DZ = Menu("–î–ó", buttons=["–ó–∞–¥–∞–Ω–∏–µ-1", "–ó–∞–¥–∞–Ω–∏–µ-2", "–ó–∞–¥–∞–Ω–∏–µ-3", "–ó–∞–¥–∞–Ω–∏–µ-4", "–ó–∞–¥–∞–Ω–∏–µ-5", "–ó–∞–¥–∞–Ω–∏–µ-6", "–í—ã—Ö–æ–¥"], parent=m_main)

m_fun = Menu("–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", buttons=["–ü—Ä–∏—Å–ª–∞—Ç—å –∫–æ—Ç–∞", "–ü—Ä–∏—Å–ª–∞—Ç—å –∞–Ω–µ–∫–¥–æ—Ç", "–ü—Ä–∏—Å–ª–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É", "–í—ã—Ö–æ–¥"], parent=m_main)